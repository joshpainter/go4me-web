@font-face {
  font-family: "Apostrof-Regular";
  src: local("Apostrof-Regular"), url("/fonts/Apostrof-Regular.otf") format("opentype");
  font-display: swap;
}

@font-face {
  font-family: "Inter-Variable";
  src: local("Inter-Variable"), url("/fonts/Inter-VariableFont_slnt,wght.ttf") format("truetype");
  font-display: swap;
  font-weight: 100 900;
  font-style: normal;
}

html,
body {
  padding: 0;
  margin: 0;
  font-family: Inter-Variable, -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen,
    Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;
}

/* Light theme defaults via CSS variables */
:root {
  --color-bg: #ffffff;
  --color-bg-alt: #fafafa;
  --color-text: #111111;
  --color-text-subtle: #555555;
  --color-border: #e5e5e5;
  --color-link: #0070f3;
  --color-link-hover: #3291ff;
  --color-card-bg: #ffffff;
  --color-rank-badge-bg: rgba(0,0,0,0.65);
  /* badge theme variables */
  --badge-bg-solid: rgba(0, 0, 0, 0.6);
  --badge-fg-solid: #ffffff;
  --shadow-elev-1: 0 2px 4px rgba(0,0,0,0.06);
  --shadow-elev-2: 0 4px 16px rgba(0,0,0,0.12);
  --skeleton-stop-1: #eee;
  --skeleton-stop-2: #f5f5f5;
  --transition-theme: 180ms ease-in-out;
}

[data-theme='dark'] {
  --color-bg: #0f1115;
  --color-bg-alt: #171b21;
  --color-text: #f5f7fa;
  --color-text-subtle: #a0acba;
  --color-border: #2a313b;
  --color-link: #3182f6;
  --color-link-hover: #4b92ff;
  --color-card-bg: #171b21;
  --color-rank-badge-bg: rgba(255,255,255,0.28);
  /* badge theme variables */
  --badge-bg-solid: rgba(255, 255, 255, 0.7); /* softer light for contrast on dark */
  --badge-fg-solid: #111111; /* dark text/icon on light badge */
  --shadow-elev-1: 0 2px 4px rgba(0,0,0,0.6);
  --shadow-elev-2: 0 4px 16px rgba(0,0,0,0.7);
  --skeleton-stop-1: #2a2f36;
  --skeleton-stop-2: #353c45;
}

body {
  background: var(--color-bg);
  color: var(--color-text);
  transition: background var(--transition-theme), color var(--transition-theme);
}

a { color: var(--color-link); }
a:hover { color: var(--color-link-hover); }

a {
  color: inherit;
  text-decoration: none;
}

* {
  box-sizing: border-box;
}

/* Performance optimizations to prevent forced reflows */
.ui.dropdown .menu,
.ui.modal,
.ui.popup {
  /* Use transform instead of changing position properties */
  will-change: transform, opacity;
  /* Enable hardware acceleration */
  transform: translateZ(0);
}

/* Optimize animations to use only transform and opacity */
.ui.transition {
  /* Prefer transform over layout-affecting properties */
  will-change: transform, opacity;
}

/* Prevent layout thrashing on resize */
.ui.container,
.ui.grid,
.ui.segment {
  /* Use contain to limit layout recalculation scope */
  contain: layout style;
}

/* Semantic UI adjustments for dark theme visibility */
[data-theme='dark'] .ui.secondary.pointing.menu .item {
  color: var(--color-text-subtle) !important;
}
[data-theme='dark'] .ui.secondary.pointing.menu .item.active,
[data-theme='dark'] .ui.secondary.pointing.menu .item:hover {
  color: var(--color-text) !important;
  border-color: var(--color-link) !important;
}
[data-theme='dark'] .ui.menu .item > i.icon { color: var(--color-text-subtle) !important; }

/* Dark mode: make Semantic UI Input darker and readable */
[data-theme='dark'] .ui.input > input {
  background: var(--color-bg-alt) !important;
  color: var(--color-text) !important;
  border-color: var(--color-border) !important;
}
[data-theme='dark'] .ui.input > input::placeholder {
  color: var(--color-text-subtle) !important;
  opacity: 1;
}
[data-theme='dark'] .ui.icon.input > i.icon {
  color: var(--color-text-subtle) !important;
}
[data-theme='dark'] .ui.input > input:focus {
  background: var(--color-bg-alt) !important;
  color: var(--color-text) !important;
  border-color: var(--color-link) !important;
  box-shadow: none !important;
}

/* Dark mode: make Semantic UI Dropdown darker and readable */
[data-theme='dark'] .ui.dropdown {
  background: var(--color-bg-alt) !important;
  color: var(--color-text) !important;
  border-color: var(--color-border) !important;
}
[data-theme='dark'] .ui.dropdown > .text {
  color: var(--color-text) !important;
}
[data-theme='dark'] .ui.dropdown > .default.text {
  color: var(--color-text-subtle) !important;
}
[data-theme='dark'] .ui.dropdown .menu {
  background: var(--color-bg-alt) !important;
  border-color: var(--color-border) !important;
}
[data-theme='dark'] .ui.dropdown .menu > .item {
  background: var(--color-bg-alt) !important;
  color: var(--color-text) !important;
  border-top: 1px solid var(--color-border) !important;
}
[data-theme='dark'] .ui.dropdown .menu > .item:hover {
  background: var(--color-bg) !important;
  color: var(--color-text) !important;
}
[data-theme='dark'] .ui.dropdown .menu > .item.selected {
  background: var(--color-bg) !important;
  color: var(--color-text) !important;
}
[data-theme='dark'] .ui.dropdown .menu > .item.active {
  background: var(--color-link) !important;
  color: white !important;
}

/* Ensure dropdown menus overlay above neighbouring elements */
.ui.dropdown .menu { z-index: 2000 !important; }

/* Offers filter label responsive sizing */
.offers-filter-label {
  font-size: 14px;
}

/* Offers filter dropdown responsive sizing */
.offers-filter-dropdown {
  /* Desktop default - nice and readable */
  min-width: 140px !important;
  font-size: 14px !important;
  flex: 0 0 auto;
}

.offers-filter-dropdown > .text {
  font-size: 14px !important;
}

.offers-filter-dropdown .menu > .item {
  font-size: 14px !important;
}

/* Tablet - slightly smaller */
@media (max-width: 768px) {
  .offers-filter-label {
    font-size: 13px;
  }

  .offers-filter-dropdown {
    min-width: 120px !important;
    font-size: 13px !important;
    flex: 1 1 auto;
  }

  .offers-filter-dropdown > .text {
    font-size: 13px !important;
  }

  .offers-filter-dropdown .menu > .item {
    font-size: 13px !important;
  }
}

/* Mobile - compact but still usable */
@media (max-width: 480px) {
  .offers-filter-label {
    font-size: 12px;
  }

  .offers-filter-dropdown {
    font-size: 12px !important;
    min-width: 90px !important;
    flex: 1 1 auto;
  }

  .offers-filter-dropdown > .text {
    font-size: 12px !important;
  }

  .offers-filter-dropdown .menu > .item {
    font-size: 12px !important;
    padding: 8px 12px !important;
  }
}

/* Very small phones - minimal but functional */
@media (max-width: 360px) {
  .offers-filter-label {
    font-size: 11px;
  }

  .offers-filter-dropdown {
    font-size: 11px !important;
    min-width: 80px !important;
  }

  .offers-filter-dropdown > .text {
    font-size: 11px !important;
  }

  .offers-filter-dropdown .menu > .item {
    font-size: 11px !important;
    padding: 6px 10px !important;
  }
}

/* CRITICAL MOBILE FIXES */
/* Fix menu overflow with horizontal scroll */
@media (max-width: 768px) {
  .ui.secondary.pointing.menu {
    overflow-x: auto !important;
    overflow-y: hidden !important;
    white-space: nowrap !important;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none; /* Firefox */
    -ms-overflow-style: none; /* IE/Edge */
  }

  .ui.secondary.pointing.menu::-webkit-scrollbar {
    display: none; /* Chrome/Safari */
  }

  .ui.secondary.pointing.menu .item {
    flex-shrink: 0 !important;
    font-size: 0.85rem !important;
    padding: 0.5rem 0.8rem !important;
    min-width: max-content !important;
  }
}

/* Fix search input and prevent zoom on iOS */
@media (max-width: 640px) {
  .ui.large.input {
    font-size: 1rem !important;
  }

  .ui.large.input input {
    font-size: 16px !important; /* Prevent zoom on iOS */
    padding: 12px 14px !important;
  }

  /* Improve touch targets */
  .ui.menu .item {
    min-height: 44px !important;
    min-width: 44px !important;
  }

  .ui.button {
    min-height: 44px !important;
    min-width: 44px !important;
  }
}

/* Ensure no horizontal overflow */
@media (max-width: 640px) {
  body,
  html {
    overflow-x: hidden !important;
  }

  .ui.container {
    max-width: 100% !important;
    margin: 0 !important;
    padding-left: 1rem !important;
    padding-right: 1rem !important;
  }
}